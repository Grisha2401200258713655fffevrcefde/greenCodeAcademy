{% extends "base.html" %}
{% block title %}Поиск{% endblock %}
{% block content %}

<h1 class="mb-4 text-warning">Результаты поиска</h1>

{% if message %}
  <div class="alert alert-secondary">{{ message }}</div>
{% endif %}

{% if total and total > 0 %}
  <div class="mb-3 text-secondary">Найдено: {{ total }}</div>
  <ul class="list-group">
    {% for m in materials %}
      <li class="list-group-item bg-dark text-light d-flex justify-content-between align-items-center">
        <div>
          <a class="text-decoration-none text-warning" href="/material/{{ m.id }}"><b>{{ m.title }}</b></a>
          <div class="small text-secondary mt-1">
            {% if m.language %}<span class="badge bg-secondary me-2">{{ m.language }}</span>{% endif %}
            {% if m.type %}<span class="badge bg-info text-dark">{{ m.type }}</span>{% endif %}
            {% if m.file_name %}<span class="ms-2">{{ m.file_name }}</span>{% endif %}
          </div>
        </div>
        <div class="ms-3">
          <a class="btn btn-sm btn-outline-success" href="/material/{{ m.id }}/download">Скачать</a>
        </div>
      </li>
    {% endfor %}
  </ul>
{% elif message is not defined %}
  <div class="alert alert-warning">Ничего не найдено по запросу «{{ q }}».</div>
{% endif %}

{% endblock %}
