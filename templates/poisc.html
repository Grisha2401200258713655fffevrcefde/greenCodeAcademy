{% extends 'base.html' %}
{% block title %}Поиск{% endblock %}
{% block content %}
<div class="container py-4">
  <h1 class="mb-4">Поиск: “{{ q }}”</h1>
  {% if message %}
    <div class="alert alert-secondary">{{ message }}</div>
  {% else %}
    <div class="mb-3 text-secondary">Найдено: {{ total }}</div>
    <ul class="list-group list-group-flush">
      {% for m in materials %}
        <li class="list-group-item bg-dark text-light d-flex justify-content-between align-items-center">
          <div class="me-3">
            <span class="badge bg-secondary text-uppercase me-2">{{ m.language }}</span>
            <span class="badge {{ 'bg-info' if m.type=='theory' else 'bg-warning' }} me-2">{{ m.type }}</span>
            <a class="link-warning text-decoration-none fw-semibold"
               href="{{ url_for('material_detail', material_id=m.id) }}">{{ m.title }}</a>
          </div>
          <div class="d-flex gap-2">
            <a class="btn btn-sm btn-outline-info" href="{{ url_for('material_view', material_id=m.id) }}">Открыть</a>
            <a class="btn btn-sm btn-outline-success" href="{{ url_for('download_material', material_id=m.id) }}">Скачать</a>
          </div>
        </li>
      {% else %}
        <li class="list-group-item bg-dark text-secondary">Ничего не найдено</li>
      {% endfor %}
    </ul>
  {% endif %}
</div>
{% endblock %}
